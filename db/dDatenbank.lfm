object dmMain: TdmMain
  OldCreateOrder = False
  Height = 779
  HorizontalOffset = 0
  VerticalOffset = 0
  Width = 643
  object cDatenbank: TUniConnection
    Connected = True
    ProviderName = 'InterBase'
    Database = '/database/livia.fdb'
    Username = 'sysdba'
    Server = 'hydbdev1'
    Left = 464
    Top = 176
    EncryptedPassword = '8CFF93FF8AFFCFFFCEFF'
  end
  object qAdressen: TUniQuery
    Connection = cDatenbank
    SQL.Strings = (
      'SELECT ID, '
      '       ALBUM, '
      '       ARTIST, '
      '       RELEASEYEAR,'
      '       DESCRIPTION,'
      '       ALBUMCOVER'
      'FROM Album;'
    )
    FilterOptions = []
    Left = 104
    Top = 88
  end
  object sqAdressen: TUniDataSource
    DataSet = qAdressen
    Left = 207
    Top = 88
  end
  object qSongs: TUniQuery
    Connection = cDatenbank
    SQL.Strings = (
      'SELECT s.ID, '
      '       s.SONGTITLE, '
      '       s.DURATION, '
      '       a.ID, '
      '       s.ALBUMID, '
      '       a.ARTIST, '
      '       a.RELEASEYEAR,  '
      '       a.ALBUMCOVER,'
      '       s.LYRICS'
      'FROM Songs s'
      'JOIN Album a ON s.ALBUMID = a.ID'
      'WHERE s.ALBUMID = :ALBUMID'
    )
    FilterOptions = []
    Left = 104
    Top = 184
    ParamData = <    
      item
        DataType = ftUnknown
        Name = 'ALBUMID'
      end>
    object qSongsID: TLongintField
      FieldKind = fkData
      FieldName = 'ID'
      Index = 0
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = True
    end
    object qSongsSONGTITLE: TStringField
      FieldKind = fkData
      FieldName = 'SONGTITLE'
      Index = 1
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = True
      Size = 1020
    end
    object qSongsARTIST: TStringField
      FieldKind = fkData
      FieldName = 'ARTIST'
      Index = 2
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = True
      Required = False
      Size = 400
    end
    object qSongsLYRICS: TStringField
      FieldKind = fkData
      FieldName = 'LYRICS'
      Index = 3
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = False
      Required = False
      Size = 16000
    end
    object qSongsALBUMCOVER: TBlobField
      FieldKind = fkData
      FieldName = 'ALBUMCOVER'
      Index = 4
      LookupCache = False
      ProviderFlags = [pfInUpdate, pfInWhere]
      ReadOnly = True
      Required = False
    end
  end
  object sqSongs: TUniDataSource
    DataSet = qSongs
    Left = 207
    Top = 184
  end
  object qUsersLogin: TUniQuery
    Connection = cDatenbank
    SQL.Strings = (
      'SELECT PWDHASH FROM USERS WHERE USERNAME = :USERNAME'
      ''
    )
    FilterOptions = []
    Left = 104
    Top = 272
    ParamData = <    
      item
        DataType = ftString
        Name = 'username'
        ParamType = ptInput
      end>
  end
  object sqUsers: TUniDataSource
    DataSet = qUsersLogin
    Left = 208
    Top = 273
  end
  object InterBaseUniProvider1: TInterBaseUniProvider
    Left = 464
    Top = 280
  end
  object qUsersRegister: TUniQuery
    Connection = cDatenbank
    SQL.Strings = (
      'INSERT INTO USERS (USERNAME, EMAIL, PWDHASH) VALUES (:USERNAME, :EMAIL, :PWDHASH'
      ')'
    )
    FilterOptions = []
    Left = 104
    Top = 352
    ParamData = <    
      item
        DataType = ftString
        Name = 'USERNAME'
        ParamType = ptInput
      end    
      item
        DataType = ftUnknown
        Name = 'EMAIL'
      end    
      item
        DataType = ftUnknown
        Name = 'PWDHASH'
      end>
  end
  object sqUsersRegister: TUniDataSource
    Left = 207
    Top = 353
  end
  object qNextUserID: TUniQuery
    Connection = cDatenbank
    SQL.Strings = (
      'SELECT GEN_ID(GEN_USERS_ID, 1) AS NEWID FROM RDB$DATABASE'
    )
    FilterOptions = []
    Left = 99
    Top = 447
  end
end
